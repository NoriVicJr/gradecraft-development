.pageContent
  = render partial: "layouts/alerts"

  - if @grades.empty?
    %div
      %div There are no grades to import for these #{term_for :assignments}.
      %div
        You can
        =link_to "modify your assignment selection", assignment_grades_importer_assignments_path(@assignment, @provider_name, params[:id])
        to find grades to import.
  -else
    .table-header-information
      %div
        %strong Selected #{@provider_name.capitalize} #{term_for :assignment}: #{@provider_assignment["name"]}
      %div
        %em Wrong #{term_for :assignment}?
        = link_to "Switch #{@provider_name.capitalize} assignment", assignment_grades_importer_assignments_path(@assignment, @provider_name, params[:id])
    = form_tag assignment_grades_importer_grades_import_path(@assignment, :canvas, params[:id]) do
      - [params[:assignment_ids]].flatten.each do |assignment_id|
        = hidden_field_tag "assignment_ids[]", assignment_id
      %table.dynatable.no-table-header
        %thead
          %tr
            %th{scope: "col"} Student Name
            %th{scope: "col"} Student Email
            %th{scope: "col"} Gradecraft Match?
            %th{scope: "col"} #{@provider_name.capitalize} Score
            %th{"data-dynatable-no-sort" => "true"}
              %button.button.select-all= "Check"
              %button.button.select-none= "Uncheck"
        %tbody
          - @grades.each do |grade|
            = render partial: "grade_row", locals: { grade: grade,
                                                     user: lms_user(@syllabus, grade["user_id"])}
      .submit-buttons
        .right
          %p= submit_tag "Import Selected Grades for #{@assignment.name}", class: "button disabled", disabled: true, data: { behavior: "selected-grades-command" }
