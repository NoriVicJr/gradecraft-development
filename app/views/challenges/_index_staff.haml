%table.dynatable
  %thead
    %tr
      %th Name
      %th Max Points
      %th{"data-dynatable-sorts" => "dueDate"} Due
      %th{:style => "display: none"} Due Date
      %th Visible
      %th Submissions?
      %th Release necessary
      %th.options Options

  %tbody
    - @challenges.chronological.alphabetical.each do |challenge|
      %tr
        %td= link_to challenge.name, challenge
        %td= points challenge.full_points
        %td= challenge.due_at
        %td{:style => "display: none"}
          = challenge.try(:due_at).to_formatted_s(:db) if challenge.due_at.present?
        %td= challenge.visible? ? "Visible" : "Hidden"
        %td= challenge.accepts_submissions? ? "Yes" : "No"
        %td= challenge.release_necessary? ? "Yes" : "No"
        %td
          .button-container.dropdown
            %button.button-edit.button-options{role: "button", type: "button", "aria-label": "Additional Options"}= decorative_glyph(:cog) + decorative_glyph("caret-down")
            %ul.options-menu.dropdown-content
              = active_course_link_to decorative_glyph(:check) + "Quick Grade", mass_edit_challenge_challenge_grades_path(challenge)
              = active_course_link_to decorative_glyph(:edit) + "Edit", edit_challenge_path(challenge)
              = active_course_link_to decorative_glyph(:trash) + "Delete", challenge,  :method => :delete, data: { confirm: "Are you sure?" }
