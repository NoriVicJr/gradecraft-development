.pageContent

  = render "layouts/alerts"

  / Gradebook Table
  .scroll-table#gradebook
    %div
      %table.dynatable
        %caption.sr-only Gradebook
        %thead
          %tr
            %th{scope: "col"} First Name
            %th{scope: "col"} Last Name
            - current_course.assignment_types.ordered.each do |assignment_type|
              - assignment_type.assignments.ordered.each do |assignment|
                %th{scope: "col"}= assignment.name
            - if current_course.valuable_badges?
              %th{scope: "col"} #{current_course.badge_term} Score
            %th{scope: "col"} Total Score
            %th{scope: "col"} Final Grade
            %th{scope: "col"} #{current_course.student_term}
        %tbody
          - current_course.students.each do |student|
            %tr
              %td= link_to student.first_name, student_path(student)
              %td= link_to student.last_name, student_path(student)
              - current_course.assignment_types.ordered.each do |assignment_type|
                - assignment_type.assignments.ordered.each do |assignment|
                  %td
                    - assignment.grade_for_student(student).tap do |grade|
                      - if grade
                        = link_to "#{points grade.score}", edit_grade_path(grade)
              - if current_course.valuable_badges?
                %td= points student.earned_badge_score_for_course(current_course)
              %td= points student.score_for_course(current_course)
              %td= student.grade_level_for_course(current_course)
              %td= link_to student.name, student_path(student)
