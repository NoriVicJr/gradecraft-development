= content_nav_for Course, ["Import Grades", assignment_grades_importers_path(@assignment)], @provider_name.capitalize


%h3.pagetitle= "#{@provider_name.capitalize} Grade Import Results"

.pageContent
  = render "layouts/alerts"

  - unless @result.import_result.unsuccessful.empty?
    %h4.subtitle
      = "#{@result.import_result.unsuccessful.count} #{"Grade".pluralize(@result.import_result.unsuccessful.count)} Not Imported"
    %table.dynatable
      %thead
        %tr
          %th Data
          %th Error(s)
      %tbody
        - @result.import_result.unsuccessful.each do |row|
          %tr
            %td= row[:data]
            %td= row[:errors]

  %h4.subtitle
    = "#{@result.import_result.successful.count} #{"Grade".pluralize(@result.import_result.successful.count)} Imported Successfully"
  %table.dynatable
    %thead
      %tr
        %th Assignment
        %th Raw Points
        %th Score
    %tbody
      - @result.import_result.successful.each do |grade|
        %tr
          %td= link_to grade.assignment.name, assignment_path(grade.assignment)
          %td= points grade.raw_points
          %td= grade.score
