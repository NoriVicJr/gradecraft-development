-# row for an individual submissions export download
%tr
  -# assignment
  %td
    = link_to export.assignment.name, assignment_path(export.assignment)

  -# generated by
  %td
    = link_to export.professor.name, user_path(export.professor)

  -# team name
  %td
    - if export.team
      = link_to export.team.name, team_path(export.team)

  -# number of submitters
  %td
    = export.submitter_ids.count

  -# filename
  %td
    - if export.downloadable?
      = link_to export.export_filename, download_submissions_export_path(export)
    - else
      = export.export_filename

  -# completed_at timestamp
  %td
    = "#{time_ago_in_words(export.last_export_completed_at)} ago" if export.last_export_completed_at

  -# status
  %td
    - if export.last_export_completed_at
      = "Complete"
    - elsif export.created_at and not export.last_export_completed_at
      = "In Progress"

  -# buttons
  %td
    .right
      %ul.button-bar
        - if export.downloadable?
          %li= link_to glyph(:download) + "Download", download_submissions_export_path(export), class: 'button', style: "margin-right: 18px"
        %li= link_to glyph(:trash) + "Delete", export, class: 'button', data: { confirm: 'This will delete the submissions export. Are you sure?' }, :method => :delete
